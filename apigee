response : 2025-08-19T13:25:54Z
hmacstringfor Get: J1P1e+dMC15FNI91DGw72+uvP2wBWA5YKt4Hkh3kduI=
hmacstringfor Post: aUYyj0SMCbQpYeLIys5C9Ig8n8DeKEfs1DMRn2p0dPU=
hmacstringfor Put: SzdHNBKKFwdVxPC2X0cCvlhvfuVsMU355hnLeS5LzCg=
hmacstringfor Delete: 3gvFCm/GZoIXE7/x7A3CjsMuRNlEIyBkn202Ri8zcm8=



<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script>
    <script type="text/Javascript">  


        function generateHash(){
            var Id = "SustainibilityPortal";
            var key="0KEX8P1I7U9NJHKV1L7XHCVH6QI9XXCS"; //this is different to each environment
            var date=new Date();
            var timestamp=moment.utc(date).format('YYYY-MM-DDTHH:mm:ss[Z]'); //timestmap in UTC format (2022-02-24T11:56:00Z)
            console.log(timestamp);
			//Create Hmac digest for Get method
            var dataget="GET"+Id+timestamp;
			//alert(dataget);
            var hash = CryptoJS.HmacSHA256(dataget,key);
            var hashInBase64get = CryptoJS.enc.Base64.stringify(hash);
			//Create Hmac digest for post method
			var datapost="POST"+Id+timestamp;
            var hash = CryptoJS.HmacSHA256(datapost,key);
            var hashInBase64post = CryptoJS.enc.Base64.stringify(hash);

            var datapost="DELETE"+Id+timestamp;
            var hash = CryptoJS.HmacSHA256(datapost,key);
            var hashInBase64delete = CryptoJS.enc.Base64.stringify(hash);
			
			var dataput="PUT"+Id+timestamp;
            var hash = CryptoJS.HmacSHA256(dataput,key);
            var hashInBase64put = CryptoJS.enc.Base64.stringify(hash);

			//alert("hmac for Get "+hashInBase64get +"\n hmac for post "+hashInBase64post +"\n timestamp  "+timestamp);
			document.getElementById("response").innerHTML = timestamp.concat("<br>hmacstringfor Get: ",hashInBase64get, " \n <br> hmacstringfor Post: ", hashInBase64post, " \n <br> hmacstringfor Put: ", hashInBase64put, " \n <br> hmacstringfor Delete: ", hashInBase64delete);
        }    
          
     </script>
	</head>
	<body>
	<table>
	

	 </body>
	 </html>








const axios = require('axios');
const FormData = require('form-data');
let data = new FormData();

let config = {
  method: 'get',
  maxBodyLength: Infinity,
  url: 'https://haleon-api-dev.apigee.net/Sustainibility-portal-channel/v1/cm-codes',
  headers: { 
    'x-apikey': 'bGMxYSqsNUb6F88L9rTY3OOMCynzZKAF', 
    'Origin': 'http://localhost:3000', 
    'requestid': '0jMlUWHYVk0px21Y5YDeAQmDxv677kgSZLedQB1p4eY=', 
    'timestamp': '2025-08-19T06:45:52Z', 
    'Cookie': 'ASLBSA=00033bd55dd63ef37c64ff693711c879242408c0f006ce3bb2ae77988d946741ef05; ASLBSACORS=00033bd55dd63ef37c64ff693711c879242408c0f006ce3bb2ae77988d946741ef05', 
    ...data.getHeaders()
  },
  data : data
};

axios.request(config)
.then((response) => {
  console.log(JSON.stringify(response.data));
})
.catch((error) => {
  console.log(error);
});
